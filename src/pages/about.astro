---
import { profileConfig } from '@/config';
import ImageWrapper from '@components/utils/ImageWrapper.astro';
import Markdown from '@components/utils/Markdown.astro';
import Button from '@components/widgets/Button.astro';
import I18nKey from '@i18n/I18nKey';
import { i18n } from '@i18n/translation';
import MainLayout from '@layouts/MainLayout.astro';
import { Icon } from 'astro-icon/components';
import { getEntry, render } from 'astro:content';

const aboutMd = await getEntry('spec', 'about');
const { Content } = aboutMd ? await render(aboutMd) : Fragment;
---

<MainLayout title={i18n(I18nKey.about)}>
  <div class="mx-auto flex max-w-screen-xl flex-col items-center justify-center">
    <div class="hero my-4 w-5/6 md:w-2/3">
      <div class="hero-content flex-col-reverse md:flex-row">
        <div class="mr-auto flex flex-col">
          <h1>
            <span class="text-xl">Hi! I'm </span>
            <span class="text-2xl font-bold">{profileConfig.name}</span>
          </h1>
          <div class="mt-2">
            {profileConfig.bio}
          </div>
          <div class="mt-4 flex">
            {
              profileConfig.links.map((link) => (
                <Button href={link.url} title={link.name} class="btn-circle btn-ghost text-2xl">
                  <Icon name={link.icon} />
                </Button>
              ))
            }
          </div>
        </div>
        <ImageWrapper
          class="h-0 min-h-48 w-0 min-w-48 rounded-lg shadow-2xl"
          src={profileConfig.avatar}
          alt={profileConfig.name}
        />
      </div>
    </div>
    <Markdown class="w-5/6 md:w-3/4">
      <Content />
    </Markdown>
  </div>
</MainLayout>
